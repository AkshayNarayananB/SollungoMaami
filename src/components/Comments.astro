---
const { slug, title } = Astro.props;
const pageUrl = new URL(Astro.url.pathname, Astro.site).toString();
---

<section class="comments-section">
  <h2>Comments</h2>
  <div id="disqus_thread"></div>
</section>

<script is:client>
  // Replace these values with your own site info
  var disqus_config = function () {
    this.page.url = `${pageUrl}`;       // Current page URL
    this.page.identifier = `${slug}`;   // Unique identifier per post
    this.page.title = `${title}`;       // Optional: post title
  };

  (function() {
    var d = document, s = d.createElement('script');
    s.src = 'https://sollungomaami.disqus.com/embed.js'; // Your Disqus shortname
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
</script>

<noscript>
  Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript>
